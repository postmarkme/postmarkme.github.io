<?xml version="1.0" encoding="ISO-8859-1"?>
<opml version="2.0">
	<head>
		<title>davegithub.js</title>
		<dateModified>&lt;%dateModified%></dateModified>
		<expansionState></expansionState>
		<vertScrollState>1</vertScrollState>
		<windowTop>300</windowTop>
		<windowLeft>700</windowLeft>
		<windowBottom>900</windowBottom>
		<windowRight>1500</windowRight>
		</head>
	<body text="davegithub.js">
		<outline created="Mon, 03 Feb 2014 03:21:03 GMT" pgfnum="36831" text="var myVersion = &quot;0.4.2&quot;, myProductName = &quot;davegithub&quot;; "></outline>
		<outline text=""></outline>
		<outline text="const utils = require (&quot;daveutils&quot;);"></outline>
		<outline text="const request = require (&quot;request&quot;);"></outline>
		<outline text=""></outline>
		<outline text="exports.getFile = getFile; "></outline>
		<outline text="exports.uploadFile = uploadFile; "></outline>
		<outline text=""></outline>
		<outline text="function getFile (options, callback) {">
			<outline isComment="true" text="Changes">
				<outline text="11/26/17; 10:14:08 AM by DW">
					<outline text="options elements">
						<outline text="repo"></outline>
						<outline text="repoPath"></outline>
						<outline text="userAgent -- optional"></outline>
						</outline>
					</outline>
				</outline>
			<outline text="var url = &quot;https://api.github.com/repos/&quot; + options.username + &quot;/&quot; + options.repo + &quot;/contents/&quot; + options.repoPath;"></outline>
			<outline isComment="true" text="var url = &quot;https://&quot; + username + &quot;:&quot; + options.password + &quot;@api.github.com/repos/&quot; + username + &quot;/&quot; + options.repo + &quot;/contents/&quot; + options.repoPath;"></outline>
			<outline text="var theRequest = {">
				<outline text="method: &quot;GET&quot;,"></outline>
				<outline text="url: url,"></outline>
				<outline text="headers: {">
					<outline text="&quot;User-Agent&quot;: options.userAgent"></outline>
					<outline text="}"></outline>
					</outline>
				<outline text="};"></outline>
				</outline>
			<outline text="request (theRequest, function (err, response, body) { ">
				<outline text="var jstruct = undefined;"></outline>
				<outline text="if (err) {">
					<outline isComment="true" text="console.log (&quot;davegithub.getFile: err.message == &quot; + err.message);"></outline>
					<outline text="if (callback !== undefined) {">
						<outline text="callback (err);"></outline>
						<outline text="}"></outline>
						</outline>
					<outline text="}"></outline>
					</outline>
				<outline text="else {">
					<outline isComment="true" text="console.log (&quot;davegithub.getFile: response.statusCode == &quot; + response.statusCode);"></outline>
					<outline text="try {">
						<outline text="var jstruct = JSON.parse (body);"></outline>
						<outline text="if (callback !== undefined) {">
							<outline text="var buffer = new Buffer (jstruct.content, &quot;base64&quot;); "></outline>
							<outline text="callback (undefined, buffer.toString (), jstruct);"></outline>
							<outline text="}"></outline>
							</outline>
						<outline text="}"></outline>
						</outline>
					<outline text="catch (err) {">
						<outline isComment="true" text="console.log (&quot;davegithub.getFile: err.message == &quot; + err.message);"></outline>
						<outline text="if (callback !== undefined) {">
							<outline text="callback (err);"></outline>
							<outline text="}"></outline>
							</outline>
						<outline text="}"></outline>
						</outline>
					<outline text="}"></outline>
					</outline>
				<outline text="});"></outline>
				</outline>
			<outline text="}"></outline>
			</outline>
		<outline text="function uploadFile (options, callback) {">
			<outline isComment="true" text="Changes">
				<outline text="11/26/17; 11:02:42 AM by DW">
					<outline text="options elements">
						<outline text="username"></outline>
						<outline text="password"></outline>
						<outline text="repo"></outline>
						<outline text="repoPath"></outline>
						<outline text="data"></outline>
						<outline text="message -- optional, the checkin message"></outline>
						<outline text="committer -- optional, a struct with name and email of the committer"></outline>
						<outline text="userAgent -- optional"></outline>
						</outline>
					</outline>
				</outline>
			<outline text="var bodyStruct = { ">
				<outline text="message: options.message,"></outline>
				<outline text="committer: {">
					<outline text="name: options.committer.name,"></outline>
					<outline text="email: options.committer.email"></outline>
					<outline text="},"></outline>
					</outline>
				<outline text="content: new Buffer (options.data).toString ('base64')"></outline>
				<outline text="};"></outline>
				</outline>
			<outline text="getFile (options, function (err, data, jstruct) {">
				<outline text="if (jstruct !== undefined) {">
					<outline text="bodyStruct.sha = jstruct.sha;"></outline>
					<outline text="}"></outline>
					</outline>
				<outline text="var username = options.username;"></outline>
				<outline text="var url = &quot;https://&quot; + username + &quot;:&quot; + options.password + &quot;@api.github.com/repos/&quot; + username + &quot;/&quot; + options.repo + &quot;/contents/&quot; + options.repoPath;"></outline>
				<outline text="var theRequest = {">
					<outline text="method: &quot;PUT&quot;,"></outline>
					<outline text="url: url,"></outline>
					<outline text="body: JSON.stringify (bodyStruct),"></outline>
					<outline text="headers: {">
						<outline text="&quot;User-Agent&quot;: options.userAgent,"></outline>
						<outline text="&quot;Content-Type&quot;: options.type"></outline>
						<outline text="}"></outline>
						</outline>
					<outline text="};"></outline>
					</outline>
				<outline text="request (theRequest, function (err, response, body) { ">
					<outline text="if (err) {">
						<outline text="console.log (&quot;uploadFile: err.message == &quot; + err.message);"></outline>
						<outline text="}"></outline>
						</outline>
					<outline isComment="true" text="else {">
						<outline text="console.log (&quot;uploadFile: response.statusCode == &quot; + response.statusCode);"></outline>
						<outline text="}"></outline>
						</outline>
					<outline text="if (callback !== undefined) {">
						<outline text="callback (err, response, body);"></outline>
						<outline text="}"></outline>
						</outline>
					<outline text="});"></outline>
					</outline>
				<outline text="});"></outline>
				</outline>
			<outline text="}"></outline>
			</outline>
		</body>
	</opml>
